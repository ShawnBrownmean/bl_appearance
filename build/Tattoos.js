import{S as Oe,i as Le,s as pe,U as H,o as D,z as I,p as M,u as S,b as w,c as T,d as m,q,D as V,j as Y,V as Ee,a6 as Ie,k as G,l as $,t as y,v as P,e as g,r as F,m as le,A as we,a7 as W,L as ve,h as Q,n as $e,a1 as Ae,J as X,K as j,Y as z,a8 as Se,C as x,a2 as de,a5 as ye,F as Ce}from"./index.js";import{W as he}from"./Wrapper.js";import Ne from"./IconPlus.js";import{S as ne}from"./Stepper.js";import{D as me}from"./Dropdown.js";import"./IconCaretLeft.js";import"./IconCaretRight.js";function re(r,e,t){const n=r.slice();n[28]=e[t].zoneIndex,n[29]=e[t].dlcIndex,n[30]=e[t].tattoo,n[31]=e[t].id,n[37]=t;const l=n[4][n[28]];n[32]=l;const i=n[32].dlcs;n[33]=i;const s=n[33][n[29]];n[34]=s;const f=n[34].tattoos||[];return n[35]=f,n}function se(r,e,t){const n=r.slice();return n[38]=e[t].label,n[39]=e[t].hash,n}function oe(r,e,t){const n=r.slice();return n[38]=e[t].label,n[29]=e[t].dlcIndex,n}function fe(r){let e,t;return e=new he({props:{label:r[8].NO_TATTOOS}}),{c(){M(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l[0]&256&&(i.label=n[8].NO_TATTOOS),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pe(r){let e=r[8].ZONE_TITLE+"",t;return{c(){t=S(e)},m(n,l){T(n,t,l)},p(n,l){l[0]&256&&e!==(e=n[8].ZONE_TITLE+"")&&P(t,e)},d(n){n&&g(t)}}}function De(r){let e=r[8].TOTAL_SUBTITLE+"",t,n,l=r[4].length+"",i;return{c(){t=S(e),n=S(": "),i=S(l)},m(s,f){T(s,t,f),T(s,n,f),T(s,i,f)},p(s,f){f[0]&256&&e!==(e=s[8].TOTAL_SUBTITLE+"")&&P(t,e),f[0]&16&&l!==(l=s[4].length+"")&&P(i,l)},d(s){s&&(g(t),g(n),g(i))}}}function Ue(r){let e,t;function n(...l){return r[27](r[37],...l)}return e=new ne({props:{list:r[4],index:r[28],display:r[32].label}}),e.$on("change",n),{c(){M(e.$$.fragment)},m(l,i){q(e,l,i),t=!0},p(l,i){r=l;const s={};i[0]&16&&(s.list=r[4]),i[0]&8&&(s.index=r[28]),i[0]&24&&(s.display=r[32].label),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Be(r){let e;return{c(){e=S("DLC")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function Re(r){let e=r[8].TOTAL_SUBTITLE+"",t,n,l=r[33].length+"",i;return{c(){t=S(e),n=S(": "),i=S(l)},m(s,f){T(s,t,f),T(s,n,f),T(s,i,f)},p(s,f){f[0]&256&&e!==(e=s[8].TOTAL_SUBTITLE+"")&&P(t,e),f[0]&24&&l!==(l=s[33].length+"")&&P(i,l)},d(s){s&&(g(t),g(n),g(i))}}}function je(r){let e,t;function n(...l){return r[26](r[37],...l)}return e=new ne({props:{list:r[33],index:r[29],display:r[34].label}}),e.$on("change",n),{c(){M(e.$$.fragment)},m(l,i){q(e,l,i),t=!0},p(l,i){r=l;const s={};i[0]&24&&(s.list=r[33]),i[0]&8&&(s.index=r[29]),i[0]&24&&(s.display=r[34].label),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ae(r){let e,t,n=r[38]+"",l,i,s,f;function o(){return r[20](r[37],r[29])}return{c(){e=I("button"),t=I("p"),l=S(n),i=D(),w(e,"class","w-full h-[3vh] flex items-center justify-start gap-[0.5vh] btn p-[0.5vh] font-semibold")},m(a,u){T(a,e,u),m(e,t),m(t,l),m(e,i),s||(f=V(e,"click",o),s=!0)},p(a,u){r=a,u[0]&64&&n!==(n=r[38]+"")&&P(l,n)},d(a){a&&g(e),s=!1,f()}}}function ze(r){let e,t,n,l,i,s=H(r[6]),f=[];for(let o=0;o<s.length;o+=1)f[o]=ae(oe(r,s,o));return{c(){e=I("input"),t=D();for(let o=0;o<f.length;o+=1)f[o].c();n=Q(),w(e,"type","text"),w(e,"class","w-full h-[3vh] p-[0.5vh]"),w(e,"placeholder","Search for a DLC...")},m(o,a){T(o,e,a),x(e,r[1]),T(o,t,a);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(o,a);T(o,n,a),l||(i=V(e,"input",r[19]),l=!0)},p(o,a){if(a[0]&2&&e.value!==o[1]&&x(e,o[1]),a[0]&4168){s=H(o[6]);let u;for(u=0;u<s.length;u+=1){const c=oe(o,s,u);f[u]?f[u].p(c,a):(f[u]=ae(c),f[u].c(),f[u].m(n.parentNode,n))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},d(o){o&&(g(e),g(t),g(n)),de(f,o),l=!1,i()}}}function ie(r){let e,t,n,l=r[8].TATTOO_TITLE+"",i,s,f,o=r[8].TOTAL_SUBTITLE+"",a,u,c=r[34].tattoos.length+"",E,h,b,N,O,p,d,A,B;function ee(...L){return r[22](r[37],...L)}b=new ne({props:{list:r[34].tattoos,display:r[30].label}}),b.$on("change",ee);function te(){return r[25](r[37])}return d=new me({props:{display:r[8].TATTOOPTIONS_SUBTITLE,$$slots:{default:[Me]},$$scope:{ctx:r}}}),d.$on("click",te),{c(){e=I("div"),t=I("span"),n=I("p"),i=S(l),s=D(),f=I("p"),a=S(o),u=S(": "),E=S(c),h=D(),M(b.$$.fragment),O=D(),p=I("div"),M(d.$$.fragment),w(t,"class","opacity-75 w-full flex items-center justify-between gap-[0.5vh]"),w(e,"class","flex flex-col items-center justify-center w-full"),w(p,"class","flex flex-col items-center justify-center w-full")},m(L,C){T(L,e,C),m(e,t),m(t,n),m(n,i),m(t,s),m(t,f),m(f,a),m(f,u),m(f,E),m(e,h),q(b,e,null),T(L,O,C),T(L,p,C),q(d,p,null),B=!0},p(L,C){r=L,(!B||C[0]&256)&&l!==(l=r[8].TATTOO_TITLE+"")&&P(i,l),(!B||C[0]&256)&&o!==(o=r[8].TOTAL_SUBTITLE+"")&&P(a,o),(!B||C[0]&24)&&c!==(c=r[34].tattoos.length+"")&&P(E,c);const Z={};C[0]&24&&(Z.list=r[34].tattoos),C[0]&8&&(Z.display=r[30].label),b.$set(Z);const J={};C[0]&256&&(J.display=r[8].TATTOOPTIONS_SUBTITLE),C[0]&412|C[1]&8192&&(J.$$scope={dirty:C,ctx:r}),d.$set(J)},i(L){B||($(b.$$.fragment,L),L&&X(()=>{B&&(N||(N=j(e,z,{},!0)),N.run(1))}),$(d.$$.fragment,L),L&&X(()=>{B&&(A||(A=j(p,z,{},!0)),A.run(1))}),B=!0)},o(L){y(b.$$.fragment,L),L&&(N||(N=j(e,z,{},!1)),N.run(0)),y(d.$$.fragment,L),L&&(A||(A=j(p,z,{},!1)),A.run(0)),B=!1},d(L){L&&(g(e),g(O),g(p)),F(b),L&&N&&N.end(),F(d),L&&A&&A.end()}}}function ue(r){let e,t,n=r[38]+"",l,i,s,f;function o(){return r[24](r[34],r[39],r[37])}return{c(){e=I("button"),t=I("p"),l=S(n),i=D(),w(e,"class","w-full h-[3vh] flex items-center justify-start gap-[0.5vh] btn p-[0.5vh] font-semibold")},m(a,u){T(a,e,u),m(e,t),m(t,l),m(e,i),s||(f=V(e,"click",o),s=!0)},p(a,u){r=a,u[0]&128&&n!==(n=r[38]+"")&&P(l,n)},d(a){a&&g(e),s=!1,f()}}}function Me(r){let e,t,n,l,i,s,f=H(r[7]),o=[];for(let a=0;a<f.length;a+=1)o[a]=ue(se(r,f,a));return{c(){e=I("input"),n=D();for(let a=0;a<o.length;a+=1)o[a].c();l=Q(),w(e,"type","text"),w(e,"class","w-full h-[3vh] p-[0.5vh]"),w(e,"placeholder",t=r[8].SEARCHTATTOO_SUBTITLE)},m(a,u){T(a,e,u),x(e,r[2]),T(a,n,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,u);T(a,l,u),i||(s=V(e,"input",r[23]),i=!0)},p(a,u){if(u[0]&256&&t!==(t=a[8].SEARCHTATTOO_SUBTITLE)&&w(e,"placeholder",t),u[0]&4&&e.value!==a[2]&&x(e,a[2]),u[0]&8344){f=H(a[7]);let c;for(c=0;c<f.length;c+=1){const E=se(a,f,c);o[c]?o[c].p(E,u):(o[c]=ue(E),o[c].c(),o[c].m(l.parentNode,l))}for(;c<o.length;c+=1)o[c].d(1);o.length=f.length}},d(a){a&&(g(e),g(n),g(l)),de(o,a),i=!1,s()}}}function qe(r){let e,t,n,l;function i(){return r[21](r[37])}e=new me({props:{display:r[8].DLCOPT_TITLE,$$slots:{default:[ze]},$$scope:{ctx:r}}}),e.$on("click",i);let s=r[35].length>0&&ie(r);return{c(){M(e.$$.fragment),t=D(),s&&s.c(),n=Q()},m(f,o){q(e,f,o),T(f,t,o),s&&s.m(f,o),T(f,n,o),l=!0},p(f,o){r=f;const a={};o[0]&256&&(a.display=r[8].DLCOPT_TITLE),o[0]&74|o[1]&8192&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[35].length>0?s?(s.p(r,o),o[0]&24&&$(s,1)):(s=ie(r),s.c(),$(s,1),s.m(n.parentNode,n)):s&&(Y(),y(s,1,1,()=>{s=null}),G())},i(f){l||($(e.$$.fragment,f),$(s),l=!0)},o(f){y(e.$$.fragment,f),y(s),l=!1},d(f){f&&(g(t),g(n)),F(e,f),s&&s.d(f)}}}function Fe(r){let e,t,n,l,i,s=r[8].REMOVETATTOO_TITLE+"",f,o,a,u,c;n=new ye({});function E(){return r[18](r[37])}return{c(){e=I("button"),t=I("div"),M(n.$$.fragment),l=D(),i=I("p"),f=S(s),w(t,"class","h-[40%] aspect-square grid place-items-center"),w(e,"class","btn w-full h-[3vh] flex items-center justify-center gap-[0.5vh]")},m(h,b){T(h,e,b),m(e,t),q(n,t,null),m(e,l),m(e,i),m(i,f),a=!0,u||(c=V(e,"click",E),u=!0)},p(h,b){r=h,(!a||b[0]&256)&&s!==(s=r[8].REMOVETATTOO_TITLE+"")&&P(f,s)},i(h){a||($(n.$$.fragment,h),h&&X(()=>{a&&(o||(o=j(e,z,{delay:500},!0)),o.run(1))}),a=!0)},o(h){y(n.$$.fragment,h),h&&(o||(o=j(e,z,{delay:500},!1)),o.run(0)),a=!1},d(h){h&&g(e),F(n),h&&o&&o.end(),u=!1,c()}}}function Ve(r){let e,t,n=r[8].CANCEL_TITLE+"",l,i,s,f=r[8].CONFIRMREM_SUBTITLE+"",o,a,u,c,E;return{c(){e=I("div"),t=I("button"),l=S(n),i=D(),s=I("button"),o=S(f),w(t,"class","btn w-full h-full"),w(s,"class","btn w-full h-full"),w(e,"class","flex items-center justify-center gap-[0.5vh] w-full h-full")},m(h,b){T(h,e,b),m(e,t),m(t,l),m(e,i),m(e,s),m(s,o),u=!0,c||(E=[V(t,"click",r[16]),V(s,"click",r[17])],c=!0)},p(h,b){(!u||b[0]&256)&&n!==(n=h[8].CANCEL_TITLE+"")&&P(l,n),(!u||b[0]&256)&&f!==(f=h[8].CONFIRMREM_SUBTITLE+"")&&P(o,f)},i(h){u||(h&&X(()=>{u&&(a||(a=j(e,z,{delay:500},!0)),a.run(1))}),u=!0)},o(h){h&&(a||(a=j(e,z,{delay:500},!1)),a.run(0)),u=!1},d(h){h&&g(e),h&&a&&a.end(),c=!1,Ce(E)}}}function We(r){let e,t,n,l;const i=[Ve,Fe],s=[];function f(o,a){return o[5]==o[37]?0:1}return t=f(r),n=s[t]=i[t](r),{c(){e=I("div"),n.c(),w(e,"class","w-full h-[3vh] grid place-items-center")},m(o,a){T(o,e,a),s[t].m(e,null),l=!0},p(o,a){let u=t;t=f(o),t===u?s[t].p(o,a):(Y(),y(s[u],1,1,()=>{s[u]=null}),G(),n=s[t],n?n.p(o,a):(n=s[t]=i[t](o),n.c()),$(n,1),n.m(e,null))},i(o){l||($(n),l=!0)},o(o){y(n),l=!1},d(o){o&&g(e),s[t].d()}}}function ce(r){let e,t,n,l,i,s;return t=new he({props:{label:`Tattoo ${r[37]+1}`,$$slots:{extra_quaternary:[We],extra_tertiary:[qe],extra_secondary:[je],"extra_secondary-end":[Re],"extra_secondary-start":[Be],extra_primary:[Ue],"extra_primary-end":[De],"extra_primary-start":[Pe]},$$scope:{ctx:r}}}),l=new Ae({props:{class:"my-[1vh]"}}),{c(){e=I("div"),M(t.$$.fragment),n=D(),M(l.$$.fragment),w(e,"class","w-full h-fit")},m(f,o){T(f,e,o),q(t,e,null),m(e,n),q(l,e,null),s=!0},p(f,o){const a={};o[0]&8&&(a.label=`Tattoo ${f[37]+1}`),o[0]&511|o[1]&8192&&(a.$$scope={dirty:o,ctx:f}),t.$set(a)},i(f){s||($(t.$$.fragment,f),$(l.$$.fragment,f),X(()=>{s&&(i||(i=j(e,z,{},!0)),i.run(1))}),s=!0)},o(f){y(t.$$.fragment,f),y(l.$$.fragment,f),i||(i=j(e,z,{},!1)),i.run(0),s=!1},d(f){f&&g(e),F(t),F(l),f&&i&&i.end()}}}function _e(r,e){let t,n=e[37],l,i,s=ce(e);return{key:r,first:null,c(){t=Q(),s.c(),l=Q(),this.first=t},m(f,o){T(f,t,o),s.m(f,o),T(f,l,o),i=!0},p(f,o){e=f,o[0]&8&&pe(n,n=e[37])?(Y(),y(s,1,1,$e),G(),s=ce(e),s.c(),$(s,1),s.m(l.parentNode,l)):s.p(e,o)},i(f){i||($(s),i=!0)},o(f){y(s),i=!1},d(f){f&&(g(t),g(l)),s.d(f)}}}function He(r){let e=[],t=new Map,n,l,i,s,f,o,a=r[8].ADDTATTOO_TITLE+"",u,c,E,h,b=H(r[3]);const N=p=>p[31];for(let p=0;p<b.length;p+=1){let d=re(r,b,p),A=N(d);t.set(A,e[p]=_e(A,d))}let O=null;return b.length||(O=fe(r)),s=new Ne({}),{c(){for(let p=0;p<e.length;p+=1)e[p].c();O&&O.c(),n=D(),l=I("button"),i=I("div"),M(s.$$.fragment),f=D(),o=I("p"),u=S(a),w(i,"class","h-[60%] aspect-square grid place-items-center"),w(l,"class","btn w-full h-[3vh] flex items-center justify-center gap-[0.5vh]")},m(p,d){for(let A=0;A<e.length;A+=1)e[A]&&e[A].m(p,d);O&&O.m(p,d),T(p,n,d),T(p,l,d),m(l,i),q(s,i,null),m(l,f),m(l,o),m(o,u),c=!0,E||(h=V(l,"click",r[9]),E=!0)},p(p,d){d[0]&15871&&(b=H(p[3]),Y(),e=Ee(e,d,N,1,p,b,t,n.parentNode,Ie,_e,n,re),G(),!b.length&&O?O.p(p,d):b.length?O&&(Y(),y(O,1,1,()=>{O=null}),G()):(O=fe(p),O.c(),$(O,1),O.m(n.parentNode,n))),(!c||d[0]&256)&&a!==(a=p[8].ADDTATTOO_TITLE+"")&&P(u,a)},i(p){if(!c){for(let d=0;d<b.length;d+=1)$(e[d]);$(s.$$.fragment,p),c=!0}},o(p){for(let d=0;d<e.length;d+=1)y(e[d]);y(s.$$.fragment,p),c=!1},d(p){p&&(g(n),g(l));for(let d=0;d<e.length;d+=1)e[d].d(p);O&&O.d(p),F(s),E=!1,h()}}}function Ze(r,e,t){let n,l,i,s,f;le(r,we,_=>t(14,i=_)),le(r,W,_=>t(15,s=_)),le(r,ve,_=>t(8,f=_));let o=null,a=0,u="",c=[],E="",h=[];function b(){const _={zoneIndex:0,dlcIndex:0,tattoo:null,id:Se()},k=n[0].dlcs.findIndex(v=>v.tattoos.length>0);k!==-1&&(_.dlcIndex=k,_.tattoo=n[0].dlcs[k].tattoos[0]),t(3,l=[...l,_]),W.setPlayerTattoos(l)}function N(_){t(3,l=l.filter((k,v)=>v!==_)),t(5,o=null),W.setPlayerTattoos(l)}function O(_,k){var R;t(3,l[_].zoneIndex=k,l),t(3,l[_].dlcIndex=0,l);const v=(R=n[k].dlcs[0])==null?void 0:R.tattoos;(v==null?void 0:v.length)>0?t(3,l[_].tattoo=v[0],l):t(3,l[_].tattoo=null,l),W.setPlayerTattoos(l)}function p(_,k){var K;let v=l[_],{zoneIndex:R}=v;t(3,l[_].dlcIndex=k,l);const U=(K=n[R].dlcs[k])==null?void 0:K.tattoos;(U==null?void 0:U.length)>0?t(3,l[_].tattoo=U[0],l):t(3,l[_].tattoo=null,l),W.setPlayerTattoos(l)}function d(_,k){let v=l[_],{zoneIndex:R,dlcIndex:U}=v;const K=n[R].dlcs[U].tattoos[k];K&&(t(3,l[_].tattoo=K,l),W.setPlayerTattoos(l))}const A=()=>t(5,o=null),B=()=>{setTimeout(()=>{N(o)},500)},ee=_=>t(5,o=_);function te(){u=this.value,t(1,u)}const L=(_,k)=>{p(_,k)},C=_=>{t(1,u=""),t(0,a=_)},Z=(_,{detail:k})=>d(_,k);function J(){E=this.value,t(2,E)}const Te=(_,k,v)=>{const R=_.tattoos.findIndex(U=>U.hash===k);d(v,R)},ge=_=>{t(2,E=""),t(0,a=_)},be=(_,{detail:k})=>p(_,k),ke=(_,{detail:k})=>O(_,k);return r.$$.update=()=>{if(r.$$.dirty[0]&32768&&t(4,n=s||[]),r.$$.dirty[0]&16384&&t(3,l=i.tattoos||[]),r.$$.dirty[0]&31&&l.length!==0&&l[a]){const{zoneIndex:_,dlcIndex:k}=l[a],v=n[_].dlcs,R=v[k].tattoos;u.length>0?v!==null&&t(6,c=v.filter(U=>U.label.toLowerCase().includes(u.toLowerCase()))):t(6,c=v),E.length>0?t(7,h=R.filter(U=>U.label.toLowerCase().includes(E.toLowerCase()))):t(7,h=R)}},[a,u,E,l,n,o,c,h,f,b,N,O,p,d,i,s,A,B,ee,te,L,C,Z,J,Te,ge,be,ke]}class et extends Oe{constructor(e){super(),Le(this,e,Ze,He,pe,{},null,[-1,-1])}}export{et as default};
